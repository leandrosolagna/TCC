\chapter{REVISÃO BIBLIOGRÁFICA}\label{ch:rev-bibs}

O inicio das redes de computadores aconteceu nos Estados Unidos, onde pesquisadores do DARPA (\textit{Defense Advanced Research Projects Agency}) começaram a experimentar comunicações entre computadores com o objetivo de conectar os departamentos de pesquisas com as bases miliares Americanas. Mas, como os estados unidos estavam plena guerra fria e toda comunicação das redes passavam por um computador central que se encontravam no Pentágono sua comunicação era extremamente vulnerável. Bastava apenas a antiga URSS atacar o Pentágono que toda a conexão Americana era afetada \cite{furb-ipv6}.

E com isso surgiu a ARPANET (\textit{Advanced Research Projects Agency Network}), com um Back Bone por baixo da terra que ligava os militares aos pesquisadores, tendo como primeiro nó a UCLA e o segundo nó a SRI, onde receberam a primeira mensagem de nó-a-nó \cite{comeco-internet}.

Isso tudo levou a adição de vários outros nós à rede. Infelizmente, os problemas começaram a surgir, ficando claro que seria necessário desenvolver protocolos para maior garantia de comunicação entre todos os nós, e, em razão disso, protocolos como o IPv4 foram desenvolvidos.

Com o esgotamento do número endereços IPv4 mais próximo a cada dia, tecnologias começaram a ser desenvolvidas para o IPv6. Iniciando assim, pesquisas para extensões deste protocolo, criação de novos protocolos de segurança e maior aplicação em tecnologias que utilizam IPv6.

Dentro de várias pesquisas, surgiram duas para segurança em redes que utilizam o IPv6, das quais deram inspirações nesse trabalho. Cujo foco é saber se equipamentos de redes domésticas possuem suporte para protocolos de segurança em rede.

Não é possível falar de IPv6 e suas tecnologias, sem mencionar o seu antecessor IPv4.

\section{IPv4}\label{sec:protIPv4}

A primeira versão do protocolo de Internet a ser utilizada globalmente. Trabalha na camada de rede do modelo OSI (\textit{Open System Interconnection model}) e na camada de Internet no modelo TCP (\textit{Transmission Control Protocol})/IP.

Responsável por identificar hospedeiros onde providencia um endereço único para cada hospedeiro em uma rede. O cabeçalho deste protocolo contem 14 campos, da qual cada um possui a sua obrigação.

Com suporte a três tipos diferentes de modos de endereçamento, da qual se chamam \textit{unicast}, \textit{broadcast} e \textit{multicast}.

O protocolo divide cada endereço em uma hierarquia de dois níveis, prefixo e sufixo, o prefixo de um endereço identifica a rede a qual o dispositivo se liga, e o sufixo identifica um dispositivo específico na rede. Um endereço de IP é um número de 32 \textit{bits}. No início, o endereço pertencia a uma de cinco classes, em que a classe de um endereço era determinada pelo valor dos quatro primeiros bits, onde a uma rede física que contivesse entre 257 e 65.536 hospedeiros era atribuído o valor de prefixo B. As redes menores era atribuído um valor prefixo de classe C, e as redes maiores era atribuído o prefixo de classe A. %(Refe: Livro do joão, usado nas aulas de redes)

O protocolo divide cada endereço em uma hierarquia de dois níveis, prefixo e sufixo, o prefixo de um endereço identifica a rede a qual o dispositivo se liga, e o sufixo identifica um dispositivo específico na rede.

Um endereço de IP é um número de 32 \textit{bits}. No início, o endereço pertencia a uma de cinco classes, em que a classe de um endereço era determinada pelo valor dos quatro primeiros bits, onde a uma rede física que contivesse entre 257 e 65.536 hospedeiros era atribuído o valor de prefixo B. As redes menores era atribuído um valor prefixo de classe C, e as redes maiores era atribuído o prefixo de classe A. %(Refe: Livro do joão, usado nas aulas de redes)

Apesar disso, existem endereços reservados para uso pessoal. Toda a classe de IP's possui endereços reservados que podem ser utilizados em uma rede local, por exemplo, em empresas e em casas. Esses endereços podem ser chamados de IPv4 inválidos, pois não são roteáveis na Internet.

Em razão disso foi desenvolvido a tecnologia NAT (\textit{Network Address Translation}), que faz a tradução de um IP inválido para IP válido. Basicamente o NAT  pega o seu endereço inválido e o mascara utilizando o único IP válido que a pessoa possui. Dessa forma, a rede externa acredita que o usuário está utilizando aquele IP válido para acessar páginas \textit{web}.

Para receber um endereço IP, o computador procura um servidor DHCP, se houver um na rede, um endereço é atribuído. Outra alternativa é configurar manualmente um endereço IP para que então o computador possa se comunicar com outros na rede.

A alocação de IPv4 é globalmente gerenciada pela IANA (\textit{Internet Assigned Numbers Authority}) em coordenação com a ICANN (\textit{Internet Corporation for Assigned Names and Numbers}). A IANA trabalha junto com os cincos RIRs (Registro Regional da Internet) existentes das quais são orgões que gerenciam a distribuição de IPv4 e IPv6. Na américa latina o orgão responsável por entrega de endereços IPv4 válidos é a LACNIC (Registro de Endereçamento da Internet para América Latina e Caribe).

Como mencionado anteriormente, os endereços dessa versão estavam próximos de esgotarem e se isso ocorresse, a rede mundial teria vários problemas, mesmo com tecnologias surgindo para evitar que isso ocorra, por exemplo NAT. Por essa razão, pesquisas para desenvolver um novo protocolo começaram a ser realizadas, o que fez que surgisse o IPv6 para evitar o esgotamento de IP's espalhados pelo mundo.

%\section{As diferenças entre os protocolos}\label{sec:protIPv6}

%A principal diferença entre os dois protocolos é o número de bits que mude de apenas 32 \textit{bits} para 128 \textit{bits}, permitindo assim uma mudança radical na atribuição e gerenciamento de endereços IP \cite{livro-ipv6}.

%Além da diferença principal, houve uma grande
\section{IPv6}\label{sec:protIPv6}

Com a explosão da internet e com o constante surgimento de tecnologias, aplicações, serviços e dispositivos conectados a rede, os endereços atuais de IPv4 se tornariam escassos.

Foi quando em Junho de 1994, a comissão do IPng (\textit{Internet Protocol next generation}) revisou todas as propostas e publicou sua recomendação. O IPv5 5 havia sido alocado ao protocolo ST (\textit{Internet Stream Protocol}), um protocolo experimental para suportar serviços em tempo real em paralelo com o IP \cite{pucrs-ipv6}. Após esses experimentos sugeriu o SIPP (\textit{Simple Internet Protocol Plus}) como a base para o novo protocolo IP. O novo protocolo teria endereços de 128 \textit{bits} e se chamaria IPv6.

O novo protocolo atendia as necessidades das empresas em questão de redes com arquiteturas mais escaláveis, com maior segurança e integridade de dados
